{"version":3,"file":"dropzone.module.js","sourceRoot":"","sources":["../../src/lib/dropzone.module.ts"],"names":[],"mappings":";AAAA,qBAAuF,eAAe,CAAC,CAAA;AAEvG,qBAA2B,eAAe,CAAC,CAAA;AAC3C,uBAA6B,iBAAiB,CAAC,CAAA;AAE/C,mCAAkC,sBAAsB,CAAC,CAAA;AACzD,mCAAkC,sBAAsB,CAAC,CAAA;AACzD,oCAAuD,uBAAuB,CAAC,CAAA;AAElE,sBAAc,GAAG,IAAI,kBAAW,CAAC,gBAAgB,CAAC,CAAC;AACnD,uBAAe,GAAG,IAAI,kBAAW,CAAC,iBAAiB,CAAC,CAAC;AAGlE;IACE,wBAAe,KAAU;IAAG,CAAC;IAEtB,sBAAO,GAAd,UAAe,MAAgC;QAC7C,MAAM,CAAC;YACL,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,sBAAc;oBACvB,UAAU,EAAE,mBAAmB;oBAC/B,IAAI,EAAE;wBACJ;4BACE,oCAAc;4BACd,IAAI,eAAQ,EAAE;4BACd,IAAI,eAAQ,EAAE;yBACf;qBACF;iBACF;gBACD;oBACE,OAAO,EAAE,uBAAe;oBACxB,QAAQ,EAAE,MAAM,GAAG,MAAM,GAAG,EAAE;iBAC/B;gBACD;oBACE,OAAO,EAAE,oCAAc;oBACvB,UAAU,EAAE,oBAAoB;oBAChC,IAAI,EAAE;wBACJ,uBAAe;qBAChB;iBACF;aACF;SACF,CAAC;IACJ,CAAC;IAEM,uBAAQ,GAAf;QACE,MAAM,CAAC;YACL,QAAQ,EAAE,cAAc;SACzB,CAAC;IACJ,CAAC;IACI,yBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,eAAQ,EAAE,IAAI,EAAE,CAAC;oBACvB,OAAO,EAAE,CAAC,qBAAY,EAAE,iBAAU,CAAC;oBACnC,YAAY,EAAE,CAAC,sCAAiB,EAAE,sCAAiB,CAAC;oBACpD,OAAO,EAAE,CAAC,qBAAY,EAAE,iBAAU,EAAE,sCAAiB,EAAE,sCAAiB,CAAC;iBAC1E,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,6BAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,eAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,aAAM,EAAE,IAAI,EAAE,CAAC,sBAAc,EAAG,EAAE,EAAG,EAAC;KAChG,EAF6F,CAE7F,CAAC;IACF,qBAAC;AAAD,CAAC,AAjDD,IAiDC;AAjDY,sBAAc,iBAiD1B,CAAA;AAED,6BAAoC,MAAsB;IACxD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QACX,MAAM,IAAI,KAAK,CAAC,+HAGf,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,SAAS,CAAC;AACnB,CAAC;AATe,2BAAmB,sBASlC,CAAA;AAED,8BAAqC,MAA+B;IAClE,MAAM,CAAC,IAAI,oCAAc,CAAC,MAAM,CAAC,CAAC;AACpC,CAAC;AAFe,4BAAoB,uBAEnC,CAAA","sourcesContent":["import { NgModule, ModuleWithProviders, OpaqueToken, Optional, SkipSelf, Inject } from '@angular/core';\n\nimport { HttpModule } from '@angular/http';\nimport { CommonModule } from '@angular/common';\n\nimport { DropzoneComponent } from './dropzone.component';\nimport { DropzoneDirective } from './dropzone.directive';\nimport { DropzoneConfig, DropzoneConfigInterface} from './dropzone.interfaces';\n\nexport const DROPZONE_GUARD = new OpaqueToken('DROPZONE_GUARD');\nexport const DROPZONE_CONFIG = new OpaqueToken('DROPZONE_CONFIG');\n\n\nexport class DropzoneModule {\n  constructor (  guard: any) {}\n\n  static forRoot(config?: DropzoneConfigInterface): ModuleWithProviders {\n    return {\n      ngModule: DropzoneModule,\n      providers: [\n        {\n          provide: DROPZONE_GUARD,\n          useFactory: provideForRootGuard,\n          deps: [\n            [\n              DropzoneConfig,\n              new Optional(),\n              new SkipSelf()\n            ]\n          ]\n        },\n        {\n          provide: DROPZONE_CONFIG,\n          useValue: config ? config : {}\n        },\n        {\n          provide: DropzoneConfig,\n          useFactory: provideDefaultConfig,\n          deps: [\n            DROPZONE_CONFIG\n          ]\n        }\n      ]\n    };\n  }\n\n  static forChild(): ModuleWithProviders {\n    return {\n      ngModule: DropzoneModule\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [CommonModule, HttpModule],\n  declarations: [DropzoneComponent, DropzoneDirective],\n  exports: [CommonModule, HttpModule, DropzoneComponent, DropzoneDirective]\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DROPZONE_GUARD, ] }, ]},\n];\n}\n\nexport function provideForRootGuard(config: DropzoneConfig): any {\n  if (config) {\n    throw new Error(`\n      Application called DropzoneModule.forRoot() twice.\n      For submodules use DropzoneModule.forChild() instead.\n    `);\n  }\n\n  return 'guarded';\n}\n\nexport function provideDefaultConfig(config: DropzoneConfigInterface): DropzoneConfig {\n  return new DropzoneConfig(config);\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}